<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
    <head>
	<title>Leaflet.DataTracker - Lime GBFS Example</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
	<link href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css" />
	<style>
	 body {
	     padding: 0;
	     margin: 0;
	 }
	 html, body, #map {
	     height: 100%;
	     width: 100vw;
	 }
	</style>
	<body>
	    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.min.js "></script>
	    <script src="https://iomonad.github.io/leaflet-datatracker/dist/leaflet-datatracker.min.js"></script>

	    <div id="map"></div>
	    <script>

	     var map = new L.Map('map', {zoom: 16, center: new L.latLng([48.8339, 2.3261])});

	     L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
		 attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
		 subdomains: 'abcd',
		 maxZoom: 20
	     }).addTo(map);

	     const trackLayer = L.dataTracker({
		 url: 'https://corsproxy.io/?url=https://data.lime.bike/api/partners/v2/gbfs/paris/free_bike_status',
		 itemExtractor: (response) => response.data.bikes,
		 idExtractor: (item) => item.bike_id,
		 metadataExtractor: (item) => ({ lon: item.lon, lat: item.lat })
	     }).addTo(map);

	    </script>
	    <a href="https://github.com/iomonad/leaflet-datatracker" class="github-fork-ribbon" data-ribbon="Fork me on GitHub">Github</a>
	</body>
</html>
